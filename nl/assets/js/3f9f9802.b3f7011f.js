"use strict";(self.webpackChunkfs_docs=self.webpackChunkfs_docs||[]).push([[4524],{2442:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"technology/design","title":"Detailed Design (Pooled Asset Model)","description":"Deep-dive into Fair Squares pallets, pooled NAV flow, governance tracks and off-chain operational integration.","source":"@site/docs/technology/design.md","sourceDirName":"technology","slug":"/technology/design","permalink":"/nl/docs/technology/design","draft":false,"unlisted":false,"editUrl":"https://github.com/fair-squares/fs-docs/edit/main/docs/technology/design.md","tags":[],"version":"current","lastUpdatedBy":"\u201cilhanu\u201d","lastUpdatedAt":1759311655000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"date":"2025-09-29T12:00","title":"Detailed Design (Pooled Asset Model)","description":"Deep-dive into Fair Squares pallets, pooled NAV flow, governance tracks and off-chain operational integration."},"sidebar":"tutorialSidebar","previous":{"title":"Architecture Layers","permalink":"/nl/docs/technology/architecture"},"next":{"title":"Guides & Tutorials","permalink":"/nl/docs/category/guides--tutorials"}}');var a=t(4848),r=t(8453),l=(t(6540),t(5195));const s={tableOfContentsInline:"tableOfContentsInline_prmo"};function o({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,a.jsx)("div",{className:s.tableOfContentsInline,children:(0,a.jsx)(l.A,{toc:e,minHeadingLevel:n,maxHeadingLevel:t,className:"table-of-contents",linkClassName:null})})}const d={sidebar_position:2,date:"2025-09-29T12:00",title:"Detailed Design (Pooled Asset Model)",description:"Deep-dive into Fair Squares pallets, pooled NAV flow, governance tracks and off-chain operational integration."},c="Fair Squares Design & Architecture (Updated)",u={},h=[{value:"1. Role &amp; Actor Overview",id:"1-role--actor-overview",level:2},{value:"2. Pallet / Module Set",id:"2-pallet--module-set",level:2},{value:"3. High-Level Lifecycle",id:"3-high-level-lifecycle",level:2},{value:"4. Capital Allocation &amp; Unit Mint (Diagram)",id:"4-capital-allocation--unit-mint-diagram",level:2},{value:"5. Finalization &amp; Governance Confirmation",id:"5-finalization--governance-confirmation",level:2},{value:"6. Investor Contribution Example (Normalized Names)",id:"6-investor-contribution-example-normalized-names",level:2},{value:"7. Metrics &amp; Safeguards Overview",id:"7-metrics--safeguards-overview",level:2}];function m(e){const n={h1:"h1",h2:"h2",header:"header",mermaid:"mermaid",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"fair-squares-design--architecture-updated",children:"Fair Squares Design & Architecture (Updated)"})}),"\n",(0,a.jsx)(n.p,{children:"This document supersedes the earlier per\u2011asset (NFT + Share Distributor + Bidding + Tenancy) model. Assets now enter a pooled structure: investors hold fungible pool units; units are minted when new, validated assets are acquired and burned only on divestment or impairment. Governance migrated to Polkadot OpenGov tracks, and direct tenancy is outsourced to accredited housing corporations."}),"\n",(0,a.jsx)(o,{toc:h}),"\n",(0,a.jsx)(n.h2,{id:"1-role--actor-overview",children:"1. Role & Actor Overview"}),"\n",(0,a.jsx)(n.p,{children:"On\u2011chain roles: Servicer, Seller, Notary, Investor. (Representative is legacy, replaced operationally by accredited Housing Corporations.)"}),"\n",(0,a.jsx)(n.p,{children:"Hybrid / off\u2011chain: Valuation Providers, Housing Corporations, OpenGov Participants (voters / delegates)."}),"\n",(0,a.jsx)(n.h2,{id:"2-pallet--module-set",children:"2. Pallet / Module Set"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Domain"}),(0,a.jsx)(n.th,{children:"Component"}),(0,a.jsx)(n.th,{children:"Purpose"}),(0,a.jsx)(n.th,{children:"Outputs"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Access"}),(0,a.jsx)(n.td,{children:"Roles"}),(0,a.jsx)(n.td,{children:"Identity + role gating"}),(0,a.jsx)(n.td,{children:"RoleAccount"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Capital"}),(0,a.jsx)(n.td,{children:"Housing Fund"}),(0,a.jsx)(n.td,{children:"Bonded capital accounting"}),(0,a.jsx)(n.td,{children:"FundContribution"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Intake"}),(0,a.jsx)(n.td,{children:"Onboarding"}),(0,a.jsx)(n.td,{children:"Proposal registry + metadata hash"}),(0,a.jsx)(n.td,{children:"Proposal states"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Valuation"}),(0,a.jsx)(n.td,{children:"Off-chain layer"}),(0,a.jsx)(n.td,{children:"Aggregated appraisals"}),(0,a.jsx)(n.td,{children:"Value band data"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Legal"}),(0,a.jsx)(n.td,{children:"Finalizer"}),(0,a.jsx)(n.td,{children:"Title & compliance checks"}),(0,a.jsx)(n.td,{children:"InclusionApproval / Rejection"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Pool"}),(0,a.jsx)(n.td,{children:"Asset Pool Engine"}),(0,a.jsx)(n.td,{children:"NAV + unit supply mgmt"}),(0,a.jsx)(n.td,{children:"PoolUnit, nav_per_unit"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Governance"}),(0,a.jsx)(n.td,{children:"OpenGov Integration"}),(0,a.jsx)(n.td,{children:"Track mapping & gating"}),(0,a.jsx)(n.td,{children:"Referenda outcomes"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Ops"}),(0,a.jsx)(n.td,{children:"Monitoring / Metrics"}),(0,a.jsx)(n.td,{children:"Occupancy & NOI ingestion"}),(0,a.jsx)(n.td,{children:"MetricReport events"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"3-high-level-lifecycle",children:"3. High-Level Lifecycle"}),"\n",(0,a.jsx)(n.p,{children:"The end-to-end flow below shows how an asset progresses from proposal intake to pooled NAV impact, and how external operational metrics feed back into valuation updates."}),"\n",(0,a.jsx)(n.mermaid,{value:"---\nconfig:\n  layout: elk\n---\nflowchart TD\n   subgraph Intake\n      P[Proposal Created]<-- Seller --\x3eS(Seller Docs)\n      VQ[Valuation Requests]\n   end\n   subgraph Validation\n      VA[Appraisals Aggregated]\n      LG[Legal Checks]\n   end\n   subgraph Gov[OpenGov]\n      T1[Asset Admission Track]\n   end\n   subgraph Pool\n      ACQ[Capital Allocation]\n      MINT[Mint Units]\n      NAV[NAV Update]\n   end\n   subgraph Ops[External Ops]\n      HC[Housing Corp]\n      MET[NOI Metrics]\n   end\n   P --\x3e VQ --\x3e VA --\x3e LG --\x3e T1 --\x3e ACQ --\x3e MINT --\x3e NAV\n   HC --\x3e MET --\x3e NAV\n   Investor[(Investors)] --\x3e ACQ\n   Fund[(Housing Fund)] --\x3e ACQ"}),"\n",(0,a.jsx)(n.h2,{id:"4-capital-allocation--unit-mint-diagram",children:"4. Capital Allocation & Unit Mint (Diagram)"}),"\n",(0,a.jsx)(n.mermaid,{value:"---\nconfig:\n   layout: elk\n---\nflowchart TD\n   A[Validated Asset] --\x3e B{Fund liquidity >= price?}\n   B --\x3e|No| Q[Queue]\n   B --\x3e|Yes| C[Allocate capital]\n   C --\x3e D[Compute issue]\n   D --\x3e E[Mint units]\n   E --\x3e F[Update NAV]\n   F --\x3e G[Recalc NAV per unit]\n   G --\x3e H[Emit inclusion events]"}),"\n",(0,a.jsx)(n.h2,{id:"5-finalization--governance-confirmation",children:"5. Finalization & Governance Confirmation"}),"\n",(0,a.jsx)(n.mermaid,{value:"---\nconfig:\n   layout: elk\n---\nflowchart LR\n   P[Proposal] --\x3e V[Valuations Aggregated]\n   V --\x3e L[Legal Checks Pass]\n   L --\x3e R[OpenGov Referendum]\n   R --\x3e|Approve| A[Allocation Phase]\n   R --\x3e|Reject| X[Archive]\n   A --\x3e F[Final Settlement]\n   F --\x3e INC[Pool Inclusion]\n   INC --\x3e NAV[NAV + Units Update]\n   style X fill:#faa,stroke:#c33"}),"\n",(0,a.jsx)(n.h2,{id:"6-investor-contribution-example-normalized-names",children:"6. Investor Contribution Example (Normalized Names)"}),"\n",(0,a.jsx)(n.mermaid,{value:"---\nconfig:\n   layout: elk\n---\nflowchart LR\n   subgraph FundContrib[Housing Fund Contributions]\n   Alice[Alice<br/>$6.0M]\n   Bob[Bob<br/>$9.0M]\n   Carol[Carol<br/>$3.5M]\n   David[David<br/>$8.0M]\n   Emma[Emma<br/>$5.0M]\n   Frank[Frank<br/>$7.0M]\n   Grace[Grace<br/>$3.0M]\n   Henry[Henry<br/>$2.0M]\n   end\n   Asset[Target Asset<br/>Price $10M]\n   FundContrib --\x3e Asset\n   Asset --\x3e Dist{Pro-Rata Allocation<br/>& Cap Rules}\n   Dist --\x3e Mint[Pool Unit Mint]\n   Mint --\x3e NAV[NAV / Unit Update]\n   classDef alloc fill:#cfe,stroke:#080\n   class Mint,NAV alloc"}),"\n",(0,a.jsx)(n.h2,{id:"7-metrics--safeguards-overview",children:"7. Metrics & Safeguards Overview"}),"\n",(0,a.jsx)(n.mermaid,{value:"---\nconfig:\n   layout: elk\n---\nflowchart TD\n   A[Appraisal Providers] --\x3e|Signed Values| B[Valuation Aggregator]\n   B --\x3e C[Legal Review]\n   C --\x3e D[OpenGov Referendum]\n   D --\x3e|Approve| E[Capital Allocation]\n   D --\x3e|Reject| R[Archive]\n   E --\x3e F[Unit Mint + NAV]\n   F --\x3e G[Monitoring]\n   G --\x3e|Anomaly| H[Emergency Track]\n   H --\x3e P[Pause / Parameter Update]\n   P --\x3e B\n   style R fill:#fdd,stroke:#c33\n   style H fill:#ffe9b3,stroke:#d68b00"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},5195:(e,n,t)=>{t.d(n,{A:()=>x});var i=t(6540),a=t(6342);function r(e){const n=e.map((e=>({...e,parentIndex:-1,children:[]}))),t=Array(7).fill(-1);n.forEach(((e,n)=>{const i=t.slice(2,e.level);e.parentIndex=Math.max(...i),t[e.level]=n}));const i=[];return n.forEach((e=>{const{parentIndex:t,...a}=e;t>=0?n[t].children.push(a):i.push(a)})),i}function l({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return e.flatMap((e=>{const i=l({toc:e.children,minHeadingLevel:n,maxHeadingLevel:t});return function(e){return e.level>=n&&e.level<=t}(e)?[{...e,children:i}]:i}))}function s(e){const n=e.getBoundingClientRect();return n.top===n.bottom?s(e.parentNode):n}function o(e,{anchorTopOffset:n}){const t=e.find((e=>s(e).top>=n));if(t){return function(e){return e.top>0&&e.bottom<window.innerHeight/2}(s(t))?t:e[e.indexOf(t)-1]??null}return e[e.length-1]??null}function d(){const e=(0,i.useRef)(0),{navbar:{hideOnScroll:n}}=(0,a.p)();return(0,i.useEffect)((()=>{e.current=n?0:document.querySelector(".navbar").clientHeight}),[n]),e}function c(e){const n=(0,i.useRef)(void 0),t=d();(0,i.useEffect)((()=>{if(!e)return()=>{};const{linkClassName:i,linkActiveClassName:a,minHeadingLevel:r,maxHeadingLevel:l}=e;function s(){const e=function(e){return Array.from(document.getElementsByClassName(e))}(i),s=function({minHeadingLevel:e,maxHeadingLevel:n}){const t=[];for(let i=e;i<=n;i+=1)t.push(`h${i}.anchor`);return Array.from(document.querySelectorAll(t.join()))}({minHeadingLevel:r,maxHeadingLevel:l}),d=o(s,{anchorTopOffset:t.current}),c=e.find((e=>d&&d.id===function(e){return decodeURIComponent(e.href.substring(e.href.indexOf("#")+1))}(e)));e.forEach((e=>{!function(e,t){t?(n.current&&n.current!==e&&n.current.classList.remove(a),e.classList.add(a),n.current=e):e.classList.remove(a)}(e,e===c)}))}return document.addEventListener("scroll",s),document.addEventListener("resize",s),s(),()=>{document.removeEventListener("scroll",s),document.removeEventListener("resize",s)}}),[e,t])}var u=t(8774),h=t(4848);function m({toc:e,className:n,linkClassName:t,isChild:i}){return e.length?(0,h.jsx)("ul",{className:i?void 0:n,children:e.map((e=>(0,h.jsxs)("li",{children:[(0,h.jsx)(u.A,{to:`#${e.id}`,className:t??void 0,dangerouslySetInnerHTML:{__html:e.value}}),(0,h.jsx)(m,{isChild:!0,toc:e.children,className:n,linkClassName:t})]},e.id)))}):null}const p=i.memo(m);function x({toc:e,className:n="table-of-contents table-of-contents__left-border",linkClassName:t="table-of-contents__link",linkActiveClassName:s,minHeadingLevel:o,maxHeadingLevel:d,...u}){const m=(0,a.p)(),x=o??m.tableOfContents.minHeadingLevel,v=d??m.tableOfContents.maxHeadingLevel,g=function({toc:e,minHeadingLevel:n,maxHeadingLevel:t}){return(0,i.useMemo)((()=>l({toc:r(e),minHeadingLevel:n,maxHeadingLevel:t})),[e,n,t])}({toc:e,minHeadingLevel:x,maxHeadingLevel:v});return c((0,i.useMemo)((()=>{if(t&&s)return{linkClassName:t,linkActiveClassName:s,minHeadingLevel:x,maxHeadingLevel:v}}),[t,s,x,v])),(0,h.jsx)(p,{toc:g,className:n,linkClassName:t,...u})}}}]);